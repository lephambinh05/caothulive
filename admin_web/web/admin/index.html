<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Link Manager - Admin Panel</title>
  <link rel="icon" type="image/png" href="favicon.png"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8fafc; }
    
    /* Sidebar */
    .sidebar { position: fixed; top: 0; left: 0; width: 250px; height: 100vh; background: #fff; box-shadow: 2px 0 10px rgba(0,0,0,0.1); z-index: 1000; transition: transform 0.3s ease; display: flex; flex-direction: column; }
    .sidebar.collapsed { transform: translateX(-100%); }
    .sidebar-header { padding: 20px; background: linear-gradient(135deg, #6b7280 0%, #d1d5db 100%); color: white; text-align: center; }
    .sidebar-header h2 { margin: 0; font-size: 20px; font-weight: 600; }
    .sidebar-nav { flex: 1; padding: 20px 0; }
    .nav-list { list-style: none; margin: 0; padding: 0; }
    .nav-link { display: flex; align-items: center; padding: 12px 20px; color: #374151; text-decoration: none; transition: all 0.3s ease; border-left: 3px solid transparent; cursor: pointer; }
    .nav-link:hover { background: #f3f4f6; color: #667eea; border-left-color: #667eea; }
    .nav-link.active { background: #667eea; color: white; border-left-color: #5a67d8; }
    .nav-link .material-icons { margin-right: 12px; font-size: 20px; }
    .nav-text { font-size: 14px; font-weight: 500; }
    .sidebar-footer { padding: 20px; border-top: 1px solid #e5e7eb; background: #f9fafb; }
    .user-info { display: flex; align-items: center; margin-bottom: 15px; }
    .user-avatar { width: 40px; height: 40px; border-radius: 50%; background: #667eea; display: flex; align-items: center; justify-content: center; margin-right: 12px; }
    .user-avatar .material-icons { color: white; font-size: 20px; }
    .user-details { display: flex; flex-direction: column; }
    .user-name { font-size: 14px; font-weight: 600; color: #111827; }
    .user-role { font-size: 12px; color: #6b7280; }
    .logout-btn { width: 100%; display: flex; align-items: center; justify-content: center; padding: 10px; background: #ef4444; color: white; border: none; border-radius: 6px; font-size: 14px; font-weight: 500; cursor: pointer; transition: background 0.3s ease; }
    .logout-btn:hover { background: #dc2626; }
    .logout-btn .material-icons { margin-right: 8px; font-size: 18px; }
    
    /* Toggle Button */
    .sidebar-toggle { position: fixed; top: 20px; left: 20px; z-index: 1001; background: #667eea; color: white; border: none; border-radius: 8px; padding: 12px; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: all 0.3s ease; display: none; }
    .sidebar-toggle:hover { background: #5a67d8; transform: translateY(-2px); }
    .sidebar-toggle .material-icons { font-size: 20px; }
    
    /* Main Content */
    .main-content { margin-left: 250px; transition: margin-left 0.3s ease; min-height: 100vh; }
    .main-content.sidebar-collapsed { margin-left: 0; }
    
    /* Pages */
    .page { display: none; min-height: 100vh; }
    .page.active { display: block; }
    
    /* Dashboard */
    .dashboard-header { background: white; padding: 20px 30px; border-bottom: 1px solid #e5e7eb; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .dashboard-title { font-size: 24px; font-weight: 600; color: #111827; margin-bottom: 8px; }
    .dashboard-subtitle { color: #6b7280; font-size: 14px; }
    .dashboard-content { padding: 30px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .stat-card { background: white; padding: 24px; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e5e7eb; }
    .stat-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
    .stat-title { font-size: 14px; font-weight: 500; color: #6b7280; }
    .stat-icon { width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
    .stat-icon.primary { background: #dbeafe; color: #3b82f6; }
    .stat-icon.success { background: #d1fae5; color: #10b981; }
    .stat-icon.warning { background: #fef3c7; color: #f59e0b; }
    .stat-icon.danger { background: #fee2e2; color: #ef4444; }
    .stat-value { font-size: 28px; font-weight: 700; color: #111827; margin-bottom: 4px; }
    .stat-change { font-size: 12px; display: flex; align-items: center; gap: 4px; }
    .stat-change.positive { color: #10b981; }
    .stat-change.negative { color: #ef4444; }
    .quick-actions { background: white; padding: 24px; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e5e7eb; margin-bottom: 30px; }
    .section-title { font-size: 18px; font-weight: 600; color: #111827; margin-bottom: 16px; }
    .actions-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
    .action-btn { display: flex; align-items: center; gap: 12px; padding: 16px; background: #f8fafc; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: #374151; transition: all 0.3s ease; cursor: pointer; }
    .action-btn:hover { background: #667eea; color: white; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(102,126,234,0.3); }
    .action-btn .material-icons { font-size: 20px; }
    .action-text { font-size: 14px; font-weight: 500; }
    
    /* Add Channel */
    .add-channel-container { max-width: 800px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden; }
    .add-channel-header { background: linear-gradient(135deg, #6b7280 0%, #d1d5db 100%); color: white; padding: 20px; text-align: center; }
    .add-channel-header h1 { font-size: 24px; font-weight: 600; margin-bottom: 8px; }
    .add-channel-header p { opacity: 0.9; font-size: 14px; }
    .add-channel-content { padding: 30px; }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #374151; }
    .form-group input, .form-group textarea { width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px; transition: border-color 0.3s; }
    .form-group input:focus, .form-group textarea:focus { outline: none; border-color: #667eea; }
    .form-group textarea { resize: vertical; min-height: 100px; }
    .btn { padding: 12px 24px; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.3s; display: inline-flex; align-items: center; gap: 8px; }
    .btn-primary { background: #667eea; color: white; }
    .btn-primary:hover { background: #5a67d8; }
    .btn-secondary { background: #f3f4f6; color: #374151; border: 1px solid #d1d5db; }
    .btn-secondary:hover { background: #e5e7eb; }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }
    .btn-full { width: 100%; justify-content: center; }
    .btn-group { display: flex; gap: 12px; margin-top: 20px; }
    .btn-group .btn { flex: 1; }
    .channel-preview { background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; margin: 20px 0; display: none; }
    .channel-preview.show { display: block; }
    .channel-info { display: flex; align-items: center; gap: 16px; }
    .channel-avatar { width: 80px; height: 80px; border-radius: 50%; background: #e5e7eb; display: flex; align-items: center; justify-content: center; overflow: hidden; }
    .channel-avatar img { width: 100%; height: 100%; object-fit: cover; }
    .channel-details h3 { font-size: 18px; font-weight: 600; color: #111827; margin-bottom: 4px; }
    .channel-stats { display: flex; gap: 16px; font-size: 14px; color: #6b7280; }
    .loading { display: none; text-align: center; padding: 20px; }
    .loading.show { display: block; }
    .spinner { width: 24px; height: 24px; border: 2px solid #e5e7eb; border-top: 2px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 12px; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .alert { padding: 12px 16px; border-radius: 8px; margin: 16px 0; font-size: 14px; }
    .alert-success { background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
    .alert-error { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
    .input-group { position: relative; }
    .input-group .material-icons { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #9ca3af; font-size: 20px; }
    .input-group input { padding-left: 44px; }
    .sidebar-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999; display: none; }
    .sidebar-overlay.show { display: block; }
    
    /* Responsive */
    @media (max-width: 768px) {
      .sidebar { transform: translateX(-100%); }
      .sidebar.show { transform: translateX(0); }
      .sidebar-toggle { display: block; }
      .main-content { margin-left: 0; }
      .dashboard-content, .add-channel-content { padding: 20px; }
      .stats-grid { grid-template-columns: 1fr; }
      .actions-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-header">
      <h2>Quản trị</h2>
    </div>
    <nav class="sidebar-nav">
      <ul class="nav-list">
        <li><a class="nav-link active" data-page="dashboard"><span class="material-icons">dashboard</span><span class="nav-text">Dashboard</span></a></li>
        <li><a class="nav-link" data-page="add-channel"><span class="material-icons">add_circle_outline</span><span class="nav-text">Thêm kênh YouTube</span></a></li>
        <li><a class="nav-link" data-page="manage-links"><span class="material-icons">link</span><span class="nav-text">Quản lý link YouTube</span></a></li>
        <li><a class="nav-link" data-page="settings"><span class="material-icons">settings</span><span class="nav-text">Cấu hình hệ thống</span></a></li>
        <li><a class="nav-link" data-page="support"><span class="material-icons">support_agent</span><span class="nav-text">Hỗ trợ</span></a></li>
      </ul>
    </nav>
    <div class="sidebar-footer">
      <div class="user-info">
        <div class="user-avatar"><span class="material-icons">person</span></div>
        <div class="user-details">
          <span class="user-name">Admin</span>
          <span class="user-role">Quản trị viên</span>
        </div>
      </div>
      <button class="logout-btn" onclick="logout()"><span class="material-icons">logout</span><span>Đăng xuất</span></button>
    </div>
  </div>

  <button class="sidebar-toggle" onclick="toggleSidebar()"><span class="material-icons">menu</span></button>
  <div class="sidebar-overlay" onclick="closeSidebar()"></div>

  <div class="main-content">
    <!-- Dashboard -->
    <div id="dashboard" class="page active">
      <div class="dashboard-header">
        <h1 class="dashboard-title">Dashboard</h1>
        <p class="dashboard-subtitle">Tổng quan hệ thống quản lý YouTube Links</p>
      </div>
      <div class="dashboard-content">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-title">Tổng số kênh</span>
              <div class="stat-icon primary"><span class="material-icons">video_library</span></div>
            </div>
            <div class="stat-value" id="totalChannels">0</div>
            <div class="stat-change positive"><span class="material-icons">trending_up</span><span>+12% so với tháng trước</span></div>
          </div>
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-title">Tổng số links</span>
              <div class="stat-icon success"><span class="material-icons">link</span></div>
            </div>
            <div class="stat-value" id="totalLinks">0</div>
            <div class="stat-change positive"><span class="material-icons">trending_up</span><span>+8% so với tháng trước</span></div>
          </div>
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-title">Lượt xem hôm nay</span>
              <div class="stat-icon warning"><span class="material-icons">visibility</span></div>
            </div>
            <div class="stat-value" id="todayViews">0</div>
            <div class="stat-change positive"><span class="material-icons">trending_up</span><span>+15% so với hôm qua</span></div>
          </div>
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-title">Người dùng hoạt động</span>
              <div class="stat-icon danger"><span class="material-icons">people</span></div>
            </div>
            <div class="stat-value" id="activeUsers">0</div>
            <div class="stat-change negative"><span class="material-icons">trending_down</span><span>-3% so với hôm qua</span></div>
          </div>
        </div>
        <div class="quick-actions">
          <h2 class="section-title">Thao tác nhanh</h2>
          <div class="actions-grid">
            <a class="action-btn" data-page="add-channel"><span class="material-icons">add_circle_outline</span><span class="action-text">Thêm kênh YouTube</span></a>
            <a class="action-btn" data-page="manage-links"><span class="material-icons">add</span><span class="action-text">Thêm link mới</span></a>
            <a class="action-btn" data-page="settings"><span class="material-icons">settings</span><span class="action-text">Cấu hình hệ thống</span></a>
            <a class="action-btn" data-page="support"><span class="material-icons">analytics</span><span class="action-text">Xem báo cáo</span></a>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Channel -->
    <div id="add-channel" class="page">
      <div class="add-channel-container">
        <div class="add-channel-header">
          <h1>Thêm kênh YouTube</h1>
          <p>Thêm kênh YouTube mới và tự động lấy thông tin</p>
        </div>
        <div class="add-channel-content">
          <form id="channelForm">
            <div class="form-group">
              <label for="channelUrl">URL kênh YouTube</label>
              <div class="input-group">
                <span class="material-icons">link</span>
                <input type="url" id="channelUrl" placeholder="https://www.youtube.com/channel/... hoặc https://www.youtube.com/@..." required>
              </div>
            </div>
            <button type="button" id="fetchBtn" class="btn btn-primary btn-full">
              <span class="material-icons">search</span>Lấy thông tin kênh
            </button>
            <div id="loading" class="loading">
              <div class="spinner"></div>
              <p>Đang lấy thông tin kênh...</p>
            </div>
            <div id="channelPreview" class="channel-preview">
              <div class="channel-info">
                <div class="channel-avatar"><img id="channelAvatar" src="" alt="Channel Avatar"></div>
                <div class="channel-details">
                  <h3 id="channelName">Tên kênh</h3>
                  <div class="channel-stats">
                    <span id="subscriberCount">0 người đăng ký</span>
                    <span id="videoCount">0 video</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="channelNameInput">Tên kênh</label>
              <div class="input-group">
                <span class="material-icons">person</span>
                <input type="text" id="channelNameInput" placeholder="Nhập tên kênh" required>
              </div>
            </div>
            <div class="form-group">
              <label for="channelDescription">Mô tả kênh (tùy chọn)</label>
              <div class="input-group">
                <span class="material-icons">description</span>
                <textarea id="channelDescription" placeholder="Nhập mô tả kênh..."></textarea>
              </div>
            </div>
            <div class="btn-group">
              <button type="button" id="clearBtn" class="btn btn-secondary"><span class="material-icons">clear</span>Xóa form</button>
              <button type="submit" id="saveBtn" class="btn btn-primary"><span class="material-icons">save</span>Lưu kênh</button>
            </div>
          </form>
          <div id="alertContainer"></div>
        </div>
      </div>
    </div>

    <!-- Other Pages -->
    <div id="manage-links" class="page"><div style="padding: 40px; text-align: center;"><h2>Quản lý link YouTube</h2><p>Trang này sẽ được phát triển sau</p></div></div>
    <div id="settings" class="page"><div style="padding: 40px; text-align: center;"><h2>Cấu hình hệ thống</h2><p>Trang này sẽ được phát triển sau</p></div></div>
    <div id="support" class="page"><div style="padding: 40px; text-align: center;"><h2>Hỗ trợ</h2><p>Trang này sẽ được phát triển sau</p></div></div>
  </div>

  <script>
    let fetchedChannelData = null;
    let currentPage = 'dashboard';

    class YouTubeService {
      extractChannelId(url) {
        const patterns = [/youtube\.com\/channel\/([a-zA-Z0-9_-]+)/, /youtube\.com\/c\/([a-zA-Z0-9_-]+)/, /youtube\.com\/@([a-zA-Z0-9_-]+)/, /youtube\.com\/user\/([a-zA-Z0-9_-]+)/];
        for (const pattern of patterns) { const match = url.match(pattern); if (match) return match[1]; }
        return null;
      }
      async getSimulatedChannelInfo(url) {
        await new Promise(resolve => setTimeout(resolve, 2000));
        const channelId = this.extractChannelId(url);
        if (!channelId) return null;
        const isChannelId = channelId.startsWith('UC');
        const displayName = isChannelId ? 'Kênh YouTube Demo' : `Kênh @${channelId}`;
        return {
          channelId: channelId,
          channelName: displayName,
          description: 'Đây là mô tả kênh YouTube demo. Trong thực tế, thông tin này sẽ được lấy từ YouTube API.',
          avatarUrl: `https://via.placeholder.com/150/FF0000/FFFFFF?text=${channelId.substring(0, 2).toUpperCase()}`,
          subscriberCount: 15000 + (channelId.length * 1000),
          videoCount: 250 + (channelId.length * 50),
        };
      }
      formatSubscriberCount(count) {
        if (count >= 1000000) return `${(count / 1000000).toFixed(1)}M`;
        else if (count >= 1000) return `${(count / 1000).toFixed(1)}K`;
        else return count.toString();
      }
      isValidYouTubeUrl(url) {
        const patterns = [/^https?:\/\/(www\.)?youtube\.com\/channel\/[a-zA-Z0-9_-]+/, /^https?:\/\/(www\.)?youtube\.com\/c\/[a-zA-Z0-9_-]+/, /^https?:\/\/(www\.)?youtube\.com\/@[a-zA-Z0-9_-]+/, /^https?:\/\/(www\.)?youtube\.com\/user\/[a-zA-Z0-9_-]+/];
        return patterns.some(pattern => pattern.test(url));
      }
    }

    const youtubeService = new YouTubeService();

    function toggleSidebar() {
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.querySelector('.sidebar-overlay');
      const mainContent = document.querySelector('.main-content');
      if (window.innerWidth <= 768) {
        sidebar.classList.toggle('show');
        overlay.classList.toggle('show');
      } else {
        sidebar.classList.toggle('collapsed');
        mainContent.classList.toggle('sidebar-collapsed');
      }
    }

    function closeSidebar() {
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.querySelector('.sidebar-overlay');
      sidebar.classList.remove('show');
      overlay.classList.remove('show');
    }

    function logout() {
      if (confirm('Bạn có chắc chắn muốn đăng xuất?')) {
        alert('Chức năng đăng xuất sẽ được implement sau');
      }
    }

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
      document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
      document.querySelector(`[data-page="${pageId}"]`).classList.add('active');
      currentPage = pageId;
    }

    async function fetchChannelInfo(url) {
      if (!youtubeService.isValidYouTubeUrl(url)) throw new Error('URL kênh YouTube không hợp lệ');
      const channelData = await youtubeService.getSimulatedChannelInfo(url);
      if (!channelData) throw new Error('Không thể lấy thông tin kênh từ URL này');
      return channelData;
    }

    function showAlert(message, type = 'success') {
      const alert = document.createElement('div');
      alert.className = `alert alert-${type}`;
      alert.textContent = message;
      const container = document.getElementById('alertContainer');
      container.innerHTML = '';
      container.appendChild(alert);
      setTimeout(() => alert.remove(), 5000);
    }

    function updateChannelPreview(data) {
      document.getElementById('channelAvatar').src = data.avatarUrl;
      document.getElementById('channelAvatar').alt = data.channelName;
      document.getElementById('channelName').textContent = data.channelName;
      document.getElementById('subscriberCount').textContent = `${youtubeService.formatSubscriberCount(data.subscriberCount)} người đăng ký`;
      document.getElementById('videoCount').textContent = `${data.videoCount.toLocaleString()} video`;
      if (document.getElementById('channelNameInput').value === '') document.getElementById('channelNameInput').value = data.channelName;
      if (document.getElementById('channelDescription').value === '') document.getElementById('channelDescription').value = data.description || '';
      document.getElementById('channelPreview').classList.add('show');
    }

    function clearForm() {
      document.getElementById('channelForm').reset();
      document.getElementById('channelPreview').classList.remove('show');
      fetchedChannelData = null;
      document.getElementById('alertContainer').innerHTML = '';
    }

    function loadStatistics() {
      setTimeout(() => {
        document.getElementById('totalChannels').textContent = '24';
        document.getElementById('totalLinks').textContent = '156';
        document.getElementById('todayViews').textContent = '2.4K';
        document.getElementById('activeUsers').textContent = '89';
      }, 1000);
    }

    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.nav-link, .action-btn').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const pageId = this.getAttribute('data-page');
          if (pageId) { showPage(pageId); closeSidebar(); }
        });
      });

      const fetchBtn = document.getElementById('fetchBtn');
      const clearBtn = document.getElementById('clearBtn');
      const channelForm = document.getElementById('channelForm');
      const channelUrlInput = document.getElementById('channelUrl');
      const loading = document.getElementById('loading');

      fetchBtn.addEventListener('click', async () => {
        const url = channelUrlInput.value.trim();
        if (!url) { showAlert('Vui lòng nhập URL kênh YouTube', 'error'); return; }
        fetchBtn.disabled = true;
        loading.classList.add('show');
        document.getElementById('channelPreview').classList.remove('show');
        try {
          fetchedChannelData = await fetchChannelInfo(url);
          updateChannelPreview(fetchedChannelData);
          showAlert('Đã lấy thông tin kênh thành công');
        } catch (error) {
          showAlert(error.message, 'error');
        } finally {
          fetchBtn.disabled = false;
          loading.classList.remove('show');
        }
      });

      clearBtn.addEventListener('click', clearForm);

      channelForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = {
          channelId: fetchedChannelData?.channelId || youtubeService.extractChannelId(channelUrlInput.value.trim()) || '',
          channelName: document.getElementById('channelNameInput').value.trim(),
          channelUrl: channelUrlInput.value.trim(),
          avatarUrl: fetchedChannelData?.avatarUrl || '',
          description: document.getElementById('channelDescription').value.trim() || null,
          subscriberCount: fetchedChannelData?.subscriberCount || 0,
          videoCount: fetchedChannelData?.videoCount || 0,
          createdAt: new Date().toISOString(),
          isActive: true
        };
        const saveBtn = document.getElementById('saveBtn');
        saveBtn.disabled = true;
        saveBtn.innerHTML = '<span class="material-icons">hourglass_empty</span>Đang lưu...';
        try {
          await new Promise(resolve => setTimeout(resolve, 1500));
          console.log('Saving channel data:', formData);
          showAlert('Thêm kênh thành công!');
          clearForm();
        } catch (error) {
          showAlert('Có lỗi xảy ra khi lưu kênh: ' + error.message, 'error');
        } finally {
          saveBtn.disabled = false;
          saveBtn.innerHTML = '<span class="material-icons">save</span>Lưu kênh';
        }
      });

      channelUrlInput.addEventListener('paste', () => {
        setTimeout(() => {
          const url = channelUrlInput.value.trim();
          if (url && url.includes('youtube.com')) fetchBtn.click();
        }, 100);
      });

      loadStatistics();

      window.addEventListener('resize', function() {
        const sidebar = document.querySelector('.sidebar');
        const overlay = document.querySelector('.sidebar-overlay');
        if (window.innerWidth > 768) {
          sidebar.classList.remove('show');
          overlay.classList.remove('show');
        }
      });
    });
  </script>
</body>
</html>
